(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{3829:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/borrow",function(){return t(9009)}])},9729:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var i=t(5893),a=t(7297),r=t(186);function o(){let e=(0,a.Z)(["\n  display: flex;\n  background-color: #181818;\n  color: #e4e4e4;\n  position: relative;\n  padding: 20px 0;\n  margin-bottom: 15px;\n  border-radius: 25px;\n  border: 1px solid #353535;\n  box-sizing: border-box;\n  padding-bottom: 20px;\n  justify-content: space-between;\n  align-items: flex-end;\n"]);return o=function(){return e},e}let s=r.ZP.div.withConfig({componentId:"sc-1a7954d3-0"})(o());var l=function(e){return(0,i.jsx)(s,{...e})}},6714:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var i=t(5893),a=t(7297),r=t(186);function o(){let e=(0,a.Z)(["\n  display: flex;\n  background-color: #181818;\n  color: #e4e4e4;\n  position: relative;\n  padding: 20px 0;\n  margin-bottom: 15px;\n  border-radius: 25px;\n  border: 1px solid #353535;\n  box-sizing: border-box;\n  padding-bottom: 20px;\n  justify-content: space-between;\n  align-items: flex-end;\n\n  &::before,\n  &::after {\n    content: '';\n    display: block;\n    position: absolute;\n    background-color: #373737;\n    border: 2px solid #191919;\n    border-radius: 30px;\n  }\n\n  &::before {\n    top: 12px;\n    bottom: -12px;\n    left: -12px;\n    right: 12px;\n    z-index: -1;\n  }\n"]);return o=function(){return e},e}let s=r.ZP.div.withConfig({componentId:"sc-1609144d-0"})(o());var l=function(e){return(0,i.jsx)(s,{...e})}},5317:function(e,n,t){"use strict";t.d(n,{h:function(){return i}});let i="0x3f06D24C8F7F6E1eE99Db84A03b3563C89345A05"},9009:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Z}});var i=t(7297),a=t(5893),r=t(5157),o=t(594),s=t(6472),l=t(7562),p=t(6287),u=t(7938),d=t(9008),c=t.n(d),y=t(186),m=t(7294),x=t(795),f=t(6019),h=t(9729),w=t(381),b=t.n(w);let g=e=>{let{liquidity:n,interestRate:t,endDate:i,loanKey:r,handleSelectedLoanKey:o,isSelectedLoanKey:s}=e,l=()=>{o(s===r?"":r)};return(0,a.jsxs)(h.Z,{onClick:+b()()<i?l:void 0,style:{border:s===r?"1px solid var(--secondary-color)":"1px solid #353535",cursor:+b()()<i?"pointer":"not-allowed",opacity:+b()()<i?1:.5},children:[(0,a.jsxs)("div",{style:{marginLeft:"20px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"8px"},children:[(0,a.jsx)("p",{style:{fontSize:"28px",color:"white",fontStyle:"bold"},children:n}),(0,a.jsx)(x.IB,{style:{marginLeft:"12px"}})]}),(0,a.jsx)("p",{children:"Available Liquidity"})]}),(0,a.jsxs)("div",{style:{marginRight:"20px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{color:"var(--secondary-color)"},children:[t,"%"]}),(0,a.jsx)("p",{children:"Interest Rate"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{style:{color:+b()()<i?"var(--primary-color)":"red"},children:b()(b().unix(i/1e3).format("MM/DD/YYYY")).fromNow()}),(0,a.jsx)("p",{children:"Duration"})]})]})]})};var T=t(6714),v=t(5012),j=t(241),A=t(4146),M=t(5553),k=t(5317);function _(){let e=(0,i.Z)(["\n  margin-bottom: ","px;\n"]);return _=function(){return e},e}function C(){let e=(0,i.Z)(["\n    display: inline-block;\n    font-size: 30px;\n    line-height: 39px;\n    font-weight: 600;\n    margin-left: 15px;\n  "]);return C=function(){return e},e}function R(){let e=(0,i.Z)(["\n    display: flex;\n    margin: auto;\n    justify-content: center;\n    margin-bottom: 20px;\n  "]);return R=function(){return e},e}function S(){let e=(0,i.Z)(["\n    margin-top: 10px;\n    margin-bottom: 20px;\n  "]);return S=function(){return e},e}function I(){let e=(0,i.Z)(["\n    position: absolute;\n    top: 0;\n    left: -150px;\n    z-index: -1;\n    transition: left 4s ease-in-out;\n    animation: morph 4s ease-in-out infinite;\n    @keyframes left {\n      from {\n        left: -150px;\n      }\n      to {\n        left: -100px;\n      }\n    }\n    @keyframes morph {\n      0% {\n        transform: skew(1);\n      }\n      50% {\n        transform: skew(1.05);\n      }\n      100% {\n        transform: skew(1);\n      }\n    }\n  "]);return I=function(){return e},e}let z=y.ZP.div.withConfig({componentId:"sc-7865a6df-0"})(_(),e=>{let{theme:n}=e;return n.spaceMap.md});function Z(){let{account:e}=(0,p.eC)(),[n,t]=(0,m.useState)(!1),[i,d]=(0,m.useState)(""),[h,w]=(0,m.useState)(""),[b,_]=(0,m.useState)(!1),[Z,B]=(0,m.useState)(!1),[P,E]=(0,m.useState)(),[L,D]=(0,m.useState)(""),{openModal:F}=(0,s.dd)(f.zr.connect);var N="";let K=y.ZP.span.withConfig({componentId:"sc-7865a6df-1"})(C());y.ZP.div.withConfig({componentId:"sc-7865a6df-2"})(R());let q=y.ZP.div.withConfig({componentId:"sc-7865a6df-3"})(S()),Q=y.ZP.div.withConfig({componentId:"sc-7865a6df-4"})(I()),H=(0,s.W_)();async function O(e,n){let t=await o.Z.post("https://api.hyperspace.node.glif.io/rpc/v1",{jsonrpc:"2.0",method:e,params:n,id:1});return t.data}(0,m.useEffect)(()=>{(async()=>{let e=new j.Q(window.ethereum),n=new A.CH(k.h,l,e),t=(await n.getLoanKeysLength()).toNumber(),i=[];if(t>0){for(let a=0;a<t;a++){let r=await n.loanKeys([a]),o=await n.positions(r._hex),s={loanKey:r,lender:o.lender,availableAmount:M.dF(o.availableAmount.toString()),interestRate:o.interestRate.toString()/100,endDate:o.endTimestamp.toString()};i.push(s)}E(i)}})()},[e]);let X=async n=>{n.preventDefault();let t=new j.Q(window.ethereum);if(new A.CH(k.h,l,t),e)try{let i=await (null==H?void 0:H.deployMockMinerActor());_(!0),await (null==i?void 0:i.wait()),await O("eth_maxPriorityFeePerGas"),N=await (null==H?void 0:H.ownerToMinerActor(e)),console.log(N),w(N),_(!1)}catch(a){console.error(a),_(!1)}else F()},Y=async n=>{if(n.preventDefault(),e)try{let i=new j.Q(window.ethereum),a=i.getSigner(),r=new A.CH(k.h,l,a),o=await r.checkReputation(h);_(!0),await o.wait(),r.on("ReputationReceived",async function(e,n,i){console.log("**** REPUTATION EVENT RECEIVED ****"),console.log(e,n,i),console.log(n),t(!0),_(!1)})}catch(s){console.error(s),_(!1)}else F()},V=async n=>{if(n.preventDefault(),e)try{let t=new j.Q(window.ethereum),a=t.getSigner(),r=new A.CH(k.h,l,a);_(!0),N=await (null==H?void 0:H.ownerToMinerActor(e)),console.log(L,M.fi(i),N),await (await r.createBorrow(L,M.fi(i),N)).wait(),_(!1)}catch(o){_(!1),console.log(o)}d(""),D("")},U=e=>{D(e),console.log(L)},G=e=>{d(e.currentTarget.value)};return(0,m.useEffect)(()=>{setTimeout(()=>{B(!0)},250)},[]),(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(c(),{children:(0,a.jsx)("title",{children:"Remora - Uncollateralized Lending"})}),n&&e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:""==h?"":"The Miner Actor address is: ".concat(h)}),(0,a.jsxs)("form",{action:"",method:"post",onSubmit:V,style:{opacity:Z?1:0,transition:"opacity 1s"},children:[(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsxs)(q,{children:[(0,a.jsx)(x.X6,{size:"sm",children:"Borrow Fil"}),(0,a.jsx)(x.xv,{color:"secondary",size:"xs",children:"Choose a contract solution to become a Storage Provider."})]})}),(0,a.jsx)(u.Z,{}),(0,a.jsxs)(z,{children:[(0,a.jsxs)(x.xv,{size:"sm",style:{color:"#fff",marginLeft:"10px",marginBottom:"10px"},children:[" ","Set Amount To Borrow"]}),(0,a.jsxs)(T.Z,{style:{marginBottom:"40px"},children:[(0,a.jsx)("div",{style:{marginBottom:"10px",width:"100%"},children:(0,a.jsx)(x.II,{id:"fil",fullwidth:!0,placeholder:"0",value:i,onChange:G,rightDecorator:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.IB,{}),(0,a.jsx)(K,{children:"Fil"})]})})})," "]}),(0,a.jsx)(x.xv,{size:"sm",style:{color:"#fff",marginLeft:"10px",marginBottom:"10px"},children:"Select Contract"}),null==P?void 0:P.map(e=>(0,a.jsx)(g,{loanKey:e.loanKey,liquidity:e.availableAmount,interestRate:e.interestRate,endDate:e.endDate,handleSelectedLoanKey:U,isSelectedLoanKey:L},e.loanKey))]}),(0,a.jsx)(x.zx,{style:{marginTop:"30px"},loading:!!b,fullwidth:!0,variant:"filled",type:"submit",children:"Submit"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{}),(0,a.jsx)("form",{action:"",method:"post",style:{opacity:Z?1:0,transition:"opacity 1s"},children:(0,a.jsxs)("div",{style:b?{textAlign:"center",opacity:"50%"}:{textAlign:"center",opacity:"100%"},children:[(0,a.jsxs)(q,{children:[(0,a.jsx)(x.xv,{size:"xxs",style:{color:"var(--color-white)"},children:""==h?"":"The Miner Actor address is: ".concat(h)}),(0,a.jsx)(x.xv,{color:"error",size:"xxs",children:"** Lender wallet and Borrower wallet cannot be the same **"}),(0,a.jsx)(x.X6,{size:"sm",children:"Step 1: Deploy Mock Contract"}),(0,a.jsx)(x.xv,{color:"secondary",size:"xs",children:"Deploy before checking reputation"})]}),(0,a.jsx)(x.zx,{fullwidth:!0,loading:!!b,variant:"outlined",onClick:X,style:{marginBottom:"40px"},children:"Deploy"}),(0,a.jsxs)(q,{children:[b?(0,a.jsx)(x.xv,{color:"warning",style:{marginBottom:"40px"},children:"Please wait 1-2 min for action to be completed."}):null,(0,a.jsx)(x.X6,{size:"sm",children:"Step 2: Check Reputation"}),(0,a.jsx)(x.xv,{color:"secondary",size:"xs",children:"Check your reputation and you will be able to select which loan fits your needs!"})]}),(0,a.jsx)(x.zx,{fullwidth:!0,loading:!!b,onClick:Y,children:"Check"})]})})]}),(0,a.jsxs)("div",{style:{textAlign:"center",marginBottom:"10px",marginTop:"80px",opacity:Z?1:0,transition:"opacity 1s"},children:[(0,a.jsx)(x.xv,{style:{color:"var(--white-color)",marginBottom:"2px"},size:"xl",children:"FAQ"}),(0,a.jsx)(x.xv,{color:"secondary",size:"xs",children:"Frequently Asked Questions"})]}),(0,a.jsx)(v.Z,{}),(0,a.jsx)(Q,{children:(0,a.jsx)(x.Y4,{})})]})}},7562:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_oracle","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"Empty_Amount","type":"error"},{"inputs":[],"name":"Empty_Lender","type":"error"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Impossible_Borrower","type":"error"},{"inputs":[{"internalType":"uint256","name":"max","type":"uint256"}],"name":"InterestRate_Too_High","type":"error"},{"inputs":[],"name":"Loan_No_More_Available","type":"error"},{"inputs":[],"name":"Loan_Period_Excedeed","type":"error"},{"inputs":[],"name":"Miner_Bad_Reputation","type":"error"},{"inputs":[],"name":"Miner_Reputation_Value","type":"error"},{"inputs":[],"name":"No_Borrower_Permissions","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"escrow","type":"address"},{"indexed":false,"internalType":"uint256","name":"loanAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountToReapy","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lenderAmountAvailable","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"startBlock","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountToPay","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"key","type":"uint256"},{"indexed":true,"internalType":"address","name":"minerActor","type":"address"}],"name":"BorrowOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"requestId","type":"uint256"},{"indexed":false,"internalType":"address","name":"minerActor","type":"address"}],"name":"CheckReputation","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"lender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"key","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endTimestamp","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"interestRate","type":"uint256"}],"name":"LenderPosition","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"contractAddress","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"MinerMockAPIDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"requestId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"response","type":"uint256"},{"indexed":false,"internalType":"address","name":"minerAddress","type":"address"}],"name":"ReputationReceived","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"borrowerPositions","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"bps","type":"uint256"}],"name":"calculateInterest","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"minerActorAddress","type":"address"}],"name":"checkReputation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"loanKey","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address payable","name":"minerActorAddress","type":"address"}],"name":"createBorrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"uint256","name":"loanInterestRate","type":"uint256"}],"name":"createLendingPosition","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"currentId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deployMockMinerActor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"escrowContracts","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"borrower","type":"address"}],"name":"getEscrowForBorrowers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLoanKeysLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"minerActorAddress","type":"address"}],"name":"isControllingAddress","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"loanKeys","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"ownerToMinerActor","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"positions","outputs":[{"internalType":"address","name":"lender","type":"address"},{"internalType":"uint256","name":"availableAmount","type":"uint256"},{"internalType":"uint256","name":"endTimestamp","type":"uint256"},{"internalType":"uint256","name":"interestRate","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"},{"internalType":"uint256","name":"response","type":"uint256"}],"name":"receiveReputationScore","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"reputationRequest","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"reputationResponse","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')}},function(e){e.O(0,[887,149,594,840,774,888,179],function(){return e(e.s=3829)}),_N_E=e.O()}]);